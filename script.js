const saisons = [
  {
    id: 1,
    titre: "Saison 1",
    nombreEpisode: "Nombre d'épisodes: 11",
    image: "./img/saison1.jpg",
    episodes: [
      {
        episode: "Episode 1",
        titre: "De la graine de héros",
        resume:
          "Rick, un scientifique très ingénieux, retrouve sa famille qu'il a abandonnée. Il engage donc son petit-fils Morty dans des aventures, dont la première consiste à récupérer des graines poussant sur des arbres extra-terrestres.",
      },
      {
        episode: "Episode 2",
        titre: "I, Croquette",
        resume:
          "Pendant que Rick et Morty s'infiltrent dans le rêve du professeur de maths du jeune homme, la famille Smith voit évoluer l'intelligence de son chien, à l'aide d'un dispositif mis en place par Rick permettant au canidé de penser.",
      },
      {
        episode: "Episode 3",
        titre: "Anatomy Park",
        resume:
          "Jerry reçoit sa famille pour Noël, tandis ce que Rick engage Morty pour entretenir le parc d'attractions qu'il a construit dans le corps d'un sans-abri : Anatomy Park",
      },
      {
        episode: "Episode 4",
        titre: "M. Night Shaym-Aliens!",
        resume:
          "Rick découvre qu'il est enfermé dans une simulation avec Morty, par des extra-terrestres qui souhaitent récupérer la recette de l'antimatière, que Rick est le seul à connaître. Jerry est, par erreur, le seul autre être vivant dans cette simulation.",
      },
      {
        episode: "Episode 5",
        titre: "La Boîte à larbins ",
        resume:
          "Pour satisfaire les volontés de sa famille, Rick leur offre une boîte à Meeseeks, faisant apparaître des personnages qui disparaissent une fois qu'ils ont fini d'aider la personne qui les a fait naître à faire une tâche. Pendant ce temps Rick accorde à Morty une aventure qu'il peut choisir.",
      },
      {
        episode: "Episode 6",
        titre: "	E-Rick-xir d'amour",
        resume:
          "Alors que Jerry a des doutes sur la fidélité de Beth, Morty demande à Rick de lui préparer un élixir d'amour, afin que la fille de ses rêves, Jessica, tombe amoureuse de lui au bal de fin d'année.",
      },
      {
        episode: "Episode 7",
        titre: "Gazorpazorp Junior",
        resume:
          "Morty achète, dans une station spatiale extra-terrestre, un robot-femme avec laquelle il a un enfant par erreur. Rick, lui, emmène Summer sur la planète d'origine de ce robot, dirigée par les femmes.",
      },
      {
        episode: "Episode 8",
        titre: "Télé…visions",
        resume:
          "Rick branche la télévision inter-dimensionnelle sur la télé du salon, car il la trouve plus divertissante. Pendant que lui et Morty se délectent de ces nouveaux programmes, les autres membres de la famille tentent de découvrir à quoi ressemble leur propre vie dans les autres réalités.",
      },
      {
        episode: "Episode 9",
        titre: "La Petite Bou-Rick des horreurs",
        resume:
          "Summer a un nouveau travail dans une boutique qui vend des objets maudits. Rick entre vite en conflit avec son patron. Morty et Jerry se retrouvent embarqués sur Pluton qui acclame Jerry car ce dernier refuse d'admettre que Pluton n'est plus une planète.",
      },
      {
        episode: "Episode 10",
        titre: "Rencontres du troisième Rick",
        resume:
          " Rick et Morty sont emmenés à la Citadelle des Ricks, où vivent plusieurs Ricks et Mortys de différentes dimensions, car Rick est accusé d'avoir assassiné d'autres Rick. A la maison Jerry se fait un nouvel ami.",
      },
      {
        episode: "Episode 11",
        titre: "Ricksy Business",
        resume:
          "Jerry et Beth partent sur une attraction romantique simulant le naufrage du Titanic. Rick et Summer en profitent pour faire une fête.",
      },
    ],
  },
  {
    id: 2,
    titre: "Saison 2",
    nombreEpisode: "Nombre d'épisodes: 10",
    image: "./img/saison2.jpg",
    episodes: [
      {
        episode: "Episode 1",
        titre: "Effet Rick-ochet",
        resume:
          " Morty et Summer brisent le temps par erreur. Jerry et Beth heurtent un cerf, accident qui va mettre l'ego de Beth à dure épreuve.",
      },
      {
        episode: "Episode 2",
        titre: "Prout, l'extra-terrestre",
        resume:
          "Rick et Morty déposent Jerry dans une garderie spécialement créée par les Ricks pour les Jerrys de toutes dimensions. Rick vend des armes à un assassin pour jouer à des jeux toute l'après-midi, ce qui déplaît à Morty qui libère la mystérieuse cible de l'assassin.",
      },
      {
        episode: "Episode 3",
        titre: "Assimilation auto-érotique",
        resume:
          "Rick fait des retrouvailles avec Unity, son ancienne petite amie, une entité pouvant prendre le contrôle de tous les habitants d'une planète. Beth et Jerry découvrent un secret caché dans leur garage.",
      },
      {
        episode: "Episode 4",
        titre: "Total Rickall",
        resume:
          "La maison des Smith est envahie par des parasites qui prennent la forme de personnages que la famille pensent avoir connus toute leur vie, mettant leur confiance entre eux à rude épreuve.",
      },
      {
        episode: "Episode 5",
        titre: "On va vous faire schwifter ",
        resume:
          "Une tête géante extra-terrestre prend la Terre pour cible afin de la faire participer de force à une émission de télé-réalité musicale. Pendant qu'un culte dont Summer fait partie se crée en ville, Rick, Morty et le Président semblent les seuls à pouvoir sauver la planète.",
      },
      {
        episode: "Episode 6",
        titre: "	Les Ricks sont tombés sur la tête",
        resume:
          " Le vaisseau de Rick tombe en panne. Lui et Morty vont donc rendre visite aux habitants du mini-univers créé par Rick pour alimenter le vaisseau. Pendant ce temps, ce dernier à pour mission de protéger Summer de tout danger.",
      },
      {
        episode: "Episode 7",
        titre: "Mini-Rick, méga hic",
        resume:
          "Tandis que Beth et Jerry suivent une thérapie de couple dans l'espace, Rick se clone en un adolescentpour traquer un vampire dans le lycée de Morty et Summer.",
      },
      {
        episode: "Episode 8",
        titre: "Câble interdimensionnel 2 : Tenter le destin",
        resume:
          "Jerry se fait hospitaliser dans un hôpital extra-terrestre. A son réveil on lui apprend qu'on a besoin de son pénis pour sauver la vie de la personne la plus importante de l'Univers. Pour patienter à l'hôpital,Rick remet la télévision interdimensionnelle.",
      },
      {
        episode: "Episode 9",
        titre: "Qui est-ce qui purge, maintenant ?",
        resume:
          "Rick et Morty font halte sur une planète, dont les habitants vivent en paix, sauf une nuit dans l'année où tout est permis.",
      },
      {
        episode: "Episode 10",
        titre: "Mariage à la squanchaise",
        resume:
          "  Le meilleur ami de Rick, Birdperson, se marie avec une humaine. La famille est invitée, mais tombe dansun piège tendu par la fédération galactique. Les Smith se retrouvent en cavale.",
      },
    ],
  },
  {
    id: 3,
    titre: "Saison 3",
    nombreEpisode: "Nombre d'épisodes: 10",
    image: "./img/saison3.jpg",
    episodes: [
      {
        episode: "Episode 1",
        titre: "L'Évadé de Rick-catraz",
        resume:
          "Les agents de la Fédération Galactique tentent d'en savoir plus sur le passé de Rick et d'obtenir la formule du pistolet à portails, pendant que Summer et Morty décident d'aller à la rescousse de leur grand-père.",
      },
      {
        episode: "Episode 2",
        titre: "À la Rick-suite du diamant vert",
        resume:
          "Pendant que Jerry et Beth divorcent, Rick, Morty et Summer partent à l'aventure sur une version post-apocalyptique de la Terre.",
      },
      {
        episode: "Episode 3",
        titre: "Rick-ornichon",
        resume:
          "Pour échapper à la thérapie familiale, Rick se transforme en cornichon. Mais il va être embarqué malgré lui dans une mésaventure pleine de rebondissements.",
      },
      {
        episode: "Episode 4",
        titre: "Revancheurs 3 : Finisseurdemondes le retour",
        resume:
          "Rick et Morty répondent à l'appel des Vengeurs, un groupe de super-héros dont Morty est fan et dont Rick fait partie. Leur mission est de détruire le super-vilain Worldender, qui fait son retour dans la galaxie.",
      },
      {
        episode: "Episode 5",
        titre: "Tournez manège !",
        resume:
          "À la demande de Morty, Rick emmène Jerry dans une aventure, dans une ville extra-terrestre ou nul ne peut mourir. Pendant ce temps Summer est préoccupée par son apparence physique et décide d'utiliser une machine du garage de Rick pour améliorer cela.",
      },
      {
        episode: "Episode 6",
        titre: "Détente et Ricklaxation",
        resume:
          "Fatigués de leurs aventures, Rick et Morty se relaxent dans un spa extra-terrestre. Ils utilisent alors une machine qui va retirer toutes leurs parties toxiques. Rick devient plus aimable et Morty a enfin confiance en lui. Mais la partie toxique de Rick, enfermée dans la machine, est consciente d'elle-même et ne l'entend pas de cette oreille.",
      },
      {
        episode: "Episode 7",
        titre: "Contes de la Citadelle",
        resume:
          "Pendant que Rick et Morty partent à l'aventure dans la cité perdue de l'Atlantide, nous découvrons la vie menée par les Ricks et les Mortys de la Citadelle, qui essaie de se reconstruire.",
      },
      {
        episode: "Episode 8",
        titre: "Les Souvenirs effacés de Morty",
        resume:
          "Rick et Morty redécouvrent tous les souvenirs d'aventure de Morty que le jeune homme a supplié d'effacer de sa mémoire.",
      },
      {
        episode: "Episode 9",
        titre: "La Belle et la Beth",
        resume:
          "  Accusé d'avoir mangé son fils, le père d'un ami d'enfance de Beth va être exécuté. Afin de retrouver cet ami disparu, Rick emmène sa fille dans un monde qu'il avait naguère créé spécialement pour elle. Pendant ce temps, Jerry vit une liaison avec une guerrière extra-terrestre qu'il présente à ses enfants.",
      },
      {
        episode: "Episode 10",
        titre: "Les Hommes-Morty du Rick-sident",
        resume:
          "   Le Président confie une mission à Rick et Morty mais ceux-ci, guère motivés, décident de ne pas l'accomplir et retournent jouer à Minecraft. Piqué au vif, le chef de l'État se confronte directement au scientifique. Sur ces entrefaites, Beth se demande si elle n'est pas devenue un clone.",
      },
      {
        episode: "Episode 11",
        titre: "Ricksy Business",
        resume:
          "Jerry et Beth partent sur une attraction romantique simulant le naufrage du Titanic. Rick et Summer en profitent pour faire une fête.",
      },
    ],
  },
  {
    id: 4,
    titre: "Saison 4",
    nombreEpisode: "Nombre d'épisodes: 10",
    image: "./img/saison4.jpg",
    episodes: [
      {
        episode: "Episode 1",
        titre: "Edge of Tomorty: Rick Die Rickpeat",
        resume:
          "  Rick et Morty partent à la recherche d'un cristal de la mort, un objet qui permet de connaître la cause de sa mort.",
      },
      {
        episode: "Episode 2",
        titre: "Le Vieil Homme et la merde",
        resume:
          "Rick entre en conflit avec un utilisateur de ses toilettes privées. De son côté, Morty doit aider son père à désactiver une application de rencontres amoureuses qui sème le désarroi sur Terre.",
      },
      {
        episode: "Episode 3",
        titre: "Vol au-dessus d'un nid de Morty",
        resume:
          "Rick et Morty participent à une compétition de braquage durant laquelle les robots qui sont censés les aider les menacent.",
      },
      {
        episode: "Episode 4",
        titre: "C'est mon dragon et bien plus encore",
        resume:
          "Morty adopte un dragon mais ce dernier a plus d'affinités avec Rick, une infidélité passible d'exécution selon les lois du monde magique.",
      },
      {
        episode: "Episode 5",
        titre: "Rattlestar Ricklactica ",
        resume:
          "Tandis que Jerry prépare Noël, Morty provoque la mort d’un serpent spatial et décide de réparer son erreur. Mais la planète serpent contre-attaque.",
      },
      {
        episode: "Episode 6",
        titre: "Rickstoires sans fin",
        resume:
          "  Rick et Morty sont piégés à bord d'un train où des récits divers et variés s'entremêlent, brouillant la réalité.",
      },
      {
        episode: "Episode 7",
        titre: "ProMortyus",
        resume:
          "Après avoir échappé à l'emprise de parasites qui les contrôlaient, Rick et Morty vont devoir empêcher l'invasion de la Terre planifiée par cette race de parasites.",
      },
      {
        episode: "Episode 8",
        titre: "L'Épisode de la cuve d'acide",
        resume:
          "À la demande de Morty, Rick lui fabrique un appareil lui permettant, à l'instar des jeux vidéos, de sauvegarder un moment dans le temps. Morty prend alors du bon temps, profitant qu'aucune de ses actions n'aient de conséquences.",
      },
      {
        episode: "Episode 9",
        titre: "Childrick of Morty",
        resume:
          " Alors que Jerry entendait emmener toute la famille leur faire découvrir le camping, Beth oblige son père à prendre ses responsabilités lorsqu'il apprend qu'il va de nouveau être père.",
      },
      {
        episode: "Episode 10",
        titre: "La Pire contre-attaque",
        resume:
          " Beth, devenue une redoutable rebelle contre la fédération galactique, retourne sur Terre pour éclaircir un point avec son père Rick. Est-elle l'originale ou le clone créé par Rick ?",
      },
    ],
  },
];

let detailsOpened = false;
let lastSelectedSaisonId = -1;
let selectedSaisonId = -1;

$(".season button").click(function () {
  lastSelectedSaisonId = selectedSaisonId;
  selectedSaisonId = $(this).data("id");
  const selectedSaison = saisons.find(function (saison) {
    return saison.id == selectedSaisonId;
  });

  $("#slideout h1").text(selectedSaison.titre);
  $("#slideout h2").text(selectedSaison.nombreEpisode);
  $("#slideout img").attr("src", selectedSaison.image);

  $("#slideout ol").empty();
  for (const episode of selectedSaison.episodes) {
    const episodeEl = createEpisodeElement(episode);
    $("#slideout ol").append(episodeEl);
  }

  if (!detailsOpened) {
    $("#slideout").slideDown("slow");
    detailsOpened = true;
  } else {
    if (selectedSaisonId == lastSelectedSaisonId) {
      $("#slideout").slideUp();
      detailsOpened = false;
    }
  }
});

function createEpisodeElement(episode) {
  const newLi = document.createElement("li");
  newLi.classList.add("episode");
  const episodeEl = document.createElement("article");
  const episodeDiv = document.createElement("div");
  const episodeHeaderEl = document.createElement("header");
  episodeHeaderEl.classList.add("header");
  const episodeNumberEl = document.createElement("span");
  episodeNumberEl.classList.add("number");
  const episodeTitleEl = document.createElement("h1");
  episodeTitleEl.classList.add("title");
  const episodeSummaryEl = document.createElement("p");

  episodeSummaryEl.appendChild(document.createTextNode(episode.resume));
  episodeTitleEl.appendChild(document.createTextNode(episode.titre));
  episodeNumberEl.appendChild(document.createTextNode(episode.episode));

  episodeHeaderEl.appendChild(episodeNumberEl);
  episodeHeaderEl.appendChild(episodeTitleEl);

  episodeDiv.appendChild(episodeHeaderEl);
  episodeDiv.appendChild(episodeSummaryEl);

  episodeEl.appendChild(episodeDiv);

  newLi.appendChild(episodeEl);
  return newLi;
}
